<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sedimentary Geochemistry - Final Exam 2026</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.8.2/docx.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root{--fau-blue:#04316A;--fau-blue-dark:#002147;--fau-blue-light:#0056AD;--nat-green:#43B02A;--accent-gold:#C99700;--gray-50:#F8FAFC;--gray-100:#F1F5F9;--gray-200:#E2E8F0;--gray-500:#64748B;--gray-600:#475569;--gray-700:#334155;--gray-800:#1E293B;--error:#DC2626;--font-sans:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;--font-serif:'Merriweather',Georgia,serif}
        *{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-sans);line-height:1.6;color:var(--gray-800);max-width:1000px;margin:0 auto;padding:20px;background:var(--gray-50);-webkit-font-smoothing:antialiased}
        body.lang-de .en{display:none!important}body.lang-en .de{display:none!important}
        .lang-switch{position:fixed;top:10px;right:20px;z-index:1001;display:flex;gap:5px}.lang-btn{padding:8px 12px;border:1px solid var(--gray-200);background:#fff;cursor:pointer;border-radius:5px;font-size:.85em;font-weight:600}.lang-btn.active{background:var(--fau-blue);color:#fff;border-color:var(--fau-blue)}
        .access-overlay{position:fixed;inset:0;background:linear-gradient(135deg,var(--fau-blue-dark),var(--fau-blue),var(--fau-blue-light));display:flex;justify-content:center;align-items:center;z-index:10001;transition:opacity .4s,visibility .4s}.access-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
        .access-box{background:#fff;padding:40px;border-radius:16px;box-shadow:0 25px 50px -12px rgba(0,0,0,.25);text-align:center;max-width:500px;width:90%}.access-box img{height:60px;margin-bottom:20px}.access-box h2{font-family:var(--font-serif);color:var(--fau-blue);margin-bottom:8px}.access-box h3{font-family:var(--font-serif);color:var(--gray-700);margin-bottom:16px}.access-box p{color:var(--gray-500);margin-bottom:20px}.countdown-display{font-size:1.3rem;color:var(--fau-blue);font-weight:600;margin:20px 0}.access-icon{font-size:3rem;margin-bottom:15px}
        .password-overlay{position:fixed;inset:0;background:linear-gradient(135deg,var(--fau-blue-dark),var(--fau-blue),var(--fau-blue-light));display:flex;justify-content:center;align-items:center;z-index:10000;transition:opacity .4s,visibility .4s}.password-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
        .password-box{background:#fff;padding:40px;border-radius:16px;box-shadow:0 25px 50px -12px rgba(0,0,0,.25);text-align:center;max-width:480px;width:90%}.password-box img{height:50px;margin-bottom:15px}.password-box h2{font-family:var(--font-serif);color:var(--fau-blue);margin-bottom:8px}.password-box h3{font-family:var(--font-serif);color:var(--gray-700);margin-bottom:8px}.password-box p{color:var(--gray-500);margin-bottom:20px;font-size:.9rem}.password-box input{width:100%;padding:14px 16px;font-size:1rem;border:1.5px solid var(--gray-200);border-radius:8px;margin-bottom:15px;font-family:var(--font-sans)}.password-box input:focus{outline:none;border-color:var(--fau-blue);box-shadow:0 0 0 3px rgba(4,49,106,.1)}.password-box button{width:100%;padding:14px 24px;font-size:1rem;background:var(--fau-blue);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600}.password-box button:hover{background:var(--fau-blue-dark)}.error-message{color:var(--error);margin-top:10px;font-weight:600}.instructor-bypass{margin-top:20px;padding-top:20px;border-top:1px solid var(--gray-200)}.instructor-bypass p{font-size:.85rem;color:var(--gray-500);margin-bottom:10px}.instructor-bypass button{background:var(--nat-green)}.instructor-bypass button:hover{background:#3a9924}
        .timer-bar{position:fixed;top:0;left:0;width:100%;background:linear-gradient(135deg,var(--fau-blue-dark),var(--fau-blue));color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;z-index:1000;box-shadow:0 4px 6px -1px rgba(0,0,0,.1)}.timer-bar.hidden{display:none}.timer-display{font-size:1.5em;font-weight:700;font-family:monospace;letter-spacing:1px}.timer-display.warning{color:var(--accent-gold);animation:pulse 1s infinite}.timer-display.critical{color:var(--error);animation:pulse .5s infinite}.timer-display.grace{color:#a855f7}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}.submit-timer-btn{background:var(--nat-green);color:#fff;border:none;padding:10px 25px;border-radius:8px;cursor:pointer;font-weight:600}.submit-timer-btn:hover{background:#3a9924}
        .main-content{display:none;margin-top:80px}.main-content.visible{display:block}
        .header{background:linear-gradient(135deg,var(--fau-blue-dark),var(--fau-blue));color:#fff;padding:32px;border-radius:12px;margin-bottom:24px;text-align:center}.header h1{font-family:var(--font-serif);font-size:1.75em}.header .subtitle{margin-top:8px;font-size:1.1em}.header .exam-info{margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,.2);font-size:.9rem}
        .reference-bar{background:#fff;padding:16px 20px;border-radius:8px;margin-bottom:24px;border-left:4px solid var(--fau-blue);display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px;font-size:.9rem}
        .student-info{background:#fff;padding:25px;border-radius:12px;margin-bottom:24px;border-left:4px solid #8b5cf6}.student-info h3{color:#7c3aed;margin-bottom:20px}.info-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.info-field label{display:block;font-weight:600;margin-bottom:6px;color:var(--gray-600);font-size:.9rem}.info-field input{width:100%;padding:12px;border:1.5px solid var(--gray-200);border-radius:8px;font-size:1rem}.info-field input:focus{outline:none;border-color:var(--fau-blue)}
        .section{background:#fff;padding:25px;border-radius:12px;margin-bottom:24px}.section-title{background:linear-gradient(135deg,var(--fau-blue-dark),var(--fau-blue));color:#fff;padding:14px 20px;border-radius:8px;font-weight:600;margin-bottom:20px}
        .question-block{margin:20px 0;padding:20px;background:var(--gray-50);border-radius:8px;border-left:4px solid var(--fau-blue)}.question-title{font-weight:600;color:var(--fau-blue);margin-bottom:15px}.sub-question{margin:15px 0;padding:15px;background:#fff;border-radius:8px;border:1px solid var(--gray-200)}.sub-question-title{font-weight:600;color:var(--gray-700);margin-bottom:10px}
        .data-table{width:100%;border-collapse:collapse;margin:20px 0;border-radius:8px;overflow:hidden}.data-table th{background:var(--fau-blue);color:#fff;padding:12px;text-align:center}.data-table td{padding:10px 12px;text-align:center;border:1px solid var(--gray-200)}.data-table tr:nth-child(even){background:var(--gray-50)}
        .equation-box{background:#ecfdf5;border:2px solid var(--nat-green);border-radius:8px;padding:20px;margin:15px 0;font-family:monospace}.equation-title{font-weight:600;color:var(--nat-green);margin-bottom:10px;font-family:var(--font-sans)}
        .info-note{background:#fef9c3;border-left:4px solid var(--accent-gold);padding:15px;margin:15px 0;border-radius:0 8px 8px 0}
        .concept-box{background:#eff6ff;border-left:4px solid var(--fau-blue-light);padding:15px;margin:15px 0;border-radius:0 8px 8px 0}
        .figure-box{margin:20px 0;background:#fff;border:1px solid var(--gray-200);border-radius:12px;overflow:hidden}.figure-box img{width:100%;height:auto;display:block}.figure-caption{padding:12px 16px;background:var(--gray-50);font-size:.9rem;color:var(--gray-600);border-top:1px solid var(--gray-200)}.figure-caption strong{color:var(--fau-blue)}
        .calculation-label{font-weight:600;color:var(--fau-blue);margin:15px 0 8px}.calculation-area,.answer-area{width:100%;min-height:150px;padding:15px;border:1.5px solid var(--gray-200);border-radius:8px;font-size:.95rem;resize:vertical;font-family:var(--font-sans)}.calculation-area{font-family:monospace}.answer-area{min-height:120px}.calculation-area:focus,.answer-area:focus{outline:none;border-color:var(--fau-blue)}
        .export-section{background:#fff;padding:25px;border-radius:12px;margin-top:30px;text-align:center}.export-section h3{color:var(--fau-blue);margin-bottom:15px}.export-buttons{display:flex;justify-content:center;flex-wrap:wrap;gap:15px}.export-btn{padding:12px 25px;border:none;border-radius:8px;cursor:pointer;font-weight:600;color:#fff;transition:transform .2s}.export-btn:hover{transform:translateY(-2px)}.export-btn.submit{background:var(--nat-green)}.export-btn.copy{background:#8b5cf6}.export-btn.print{background:var(--gray-600)}
        .loading-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:9999;justify-content:center;align-items:center}.loading-overlay.active{display:flex}.loading-box{background:#fff;padding:30px 50px;border-radius:12px;text-align:center}.spinner{width:50px;height:50px;border:4px solid var(--gray-200);border-top:4px solid var(--fau-blue);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 15px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        .watermark{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-45deg);font-size:72px;color:rgba(4,49,106,.05);font-weight:700;pointer-events:none;z-index:1}.watermark.hidden{display:none}
        @media print{.access-overlay,.password-overlay,.timer-bar,.export-section,.calculator-container,.watermark,.lang-switch{display:none!important}.main-content{display:block!important;margin-top:0!important}.question-block,.sub-question,.figure-box{page-break-inside:avoid;break-inside:avoid}.section{page-break-before:auto;page-break-inside:avoid}.calculation-area,.answer-area{page-break-inside:avoid;break-inside:avoid;min-height:auto!important;height:auto!important;overflow:visible!important}.data-table{page-break-inside:avoid}.equation-box,.info-note,.concept-box{page-break-inside:avoid}}
        @media(max-width:768px){.info-grid{grid-template-columns:1fr}.timer-bar{flex-direction:column;gap:10px}.reference-bar{flex-direction:column}.lang-switch{top:auto;bottom:10px;right:10px}}
        .calculator-container{position:fixed;bottom:20px;right:20px;z-index:500}
        .calculator-toggle{background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff;border:none;padding:15px 20px;border-radius:50px;cursor:pointer;font-size:1em;box-shadow:0 4px 15px rgba(155,89,182,.4)}
        .calculator-panel{display:none;position:fixed;bottom:80px;right:20px;width:380px;max-width:calc(100vw - 40px);background:#fff;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,.2);max-height:70vh;overflow:hidden}
        .calculator-panel.active{display:block}
        .calculator-panel-inner{max-height:calc(70vh - 50px);overflow-y:auto;-webkit-overflow-scrolling:touch}
        .calc-header{background:linear-gradient(135deg,#9b59b6,#8e44ad);color:#fff;padding:15px;font-weight:700}
        .calc-body{padding:15px}
        .calc-display{width:100%;padding:15px;font-size:1.3em;font-family:'Courier New',monospace;border:2px solid #ddd;border-radius:8px;margin-bottom:15px;text-align:right}
        .calc-tabs{display:flex;margin-bottom:15px}.calc-tabs>*{margin-right:5px}.calc-tabs>*:last-child{margin-right:0}
        .calc-tab{flex:1;padding:8px;background:#f0f0f0;border:none;cursor:pointer;border-radius:5px;font-size:.85em}.calc-tab.active{background:#9b59b6;color:#fff}
        .calc-buttons{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
        .calc-btn{padding:12px;font-size:1em;border:none;border-radius:5px;cursor:pointer;background:#f0f0f0}.calc-btn:hover{background:#e0e0e0}
        .calc-btn.operator{background:#16a085;color:#fff}.calc-btn.equals{background:#27ae60;color:#fff;grid-column:span 2}.calc-btn.function{background:#3498db;color:#fff;font-size:.85em}.calc-btn.clear{background:#e74c3c;color:#fff}
        .isotope-functions{display:none;margin-top:10px}.isotope-functions.active{display:block}
        .isotope-func-btn{width:100%;padding:10px;margin:5px 0;background:linear-gradient(135deg,#16a085,#27ae60);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:.9em;text-align:left}
        .calc-input-group{display:none;margin-top:15px;padding:15px;background:#f8f9fa;border-radius:8px}.calc-input-group.active{display:block}
        .calc-input-group label{display:block;margin-bottom:5px;font-weight:700;font-size:.9em}
        .calc-input-group input,.calc-input-group select{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ddd;border-radius:5px}
        .calc-result{margin-top:10px;padding:10px;background:#e8f8f5;border-radius:5px;font-family:'Courier New',monospace}
        @media(max-width:768px){.calculator-panel{width:95%;right:2.5%}}
    </style>
</head>
<body class="lang-en">
    <!-- Language Switch -->
    <div class="lang-switch">
        <button class="lang-btn active" data-lang="en" onclick="setLanguage('en')">EN</button>
        <button class="lang-btn" data-lang="de" onclick="setLanguage('de')">DE</button>
    </div>

    <div class="access-overlay hidden" id="accessOverlay">
        <div class="access-box">
            <img src="images/FAU_NatFak_H_black.png" alt="FAU" onerror="this.style.display='none'">
            <div class="access-icon">ğŸ”’</div>
            <h2><span class="en">Exam Not Yet Available</span><span class="de">PrÃ¼fung noch nicht verfÃ¼gbar</span></h2>
            <h3><span class="en">Final Exam 2026</span><span class="de">AbschlussprÃ¼fung 2026</span></h3>
            <p><span class="en">This exam will be accessible on:</span><span class="de">Diese PrÃ¼fung ist verfÃ¼gbar ab:</span></p>
            <div class="countdown-display"><strong><span class="en">Wednesday, 11 February 2026 at 16:00</span><span class="de">Mittwoch, 11. Februar 2026 um 16:00 Uhr</span></strong></div>
            <p id="timeRemaining"></p>
        </div>
    </div>

    <div class="password-overlay hidden" id="passwordOverlay" style="display:none">
        <div class="password-box">
            <img src="images/FAU_NatFak_H_black.png" alt="FAU" onerror="this.style.display='none'">
            <h2>ğŸ”¬ <span class="en">Final Exam</span><span class="de">AbschlussprÃ¼fung</span></h2>
            <h3><span class="en">Sedimentary Geochemistry</span><span class="de">SedimentÃ¤re Geochemie</span></h3>
        </div>
    </div>

    <div class="timer-bar hidden" id="timerBar">
        <div><div id="timerStatus"><span class="en">Exam in Progress</span><span class="de">PrÃ¼fung lÃ¤uft</span></div><div class="timer-display" id="timerDisplay">02:00:00</div></div>
        <div style="text-align:center"><strong><span class="en">Final Exam</span><span class="de">AbschlussprÃ¼fung</span></strong><br><span style="font-size:.85em"><span class="en">Auto-save enabled</span><span class="de">Automatische Speicherung aktiv</span></span></div>
        <button class="submit-timer-btn" onclick="submitExam()"><span class="en">Submit Exam</span><span class="de">PrÃ¼fung abgeben</span></button>
    </div>

    <div class="watermark hidden" id="watermark"></div>
    <div class="loading-overlay" id="loadingOverlay"><div class="loading-box"><div class="spinner"></div><div id="loadingText"><span class="en">Processing...</span><span class="de">Verarbeitung...</span></div></div></div>

    <div class="main-content visible" id="mainContent">
        <div class="header">
            <h1><span class="en">SEDIMENTARY GEOCHEMISTRY</span><span class="de">SEDIMENTÃ„RE GEOCHEMIE</span></h1>
            <div class="subtitle"><span class="en">Final Exam: The Paleocene-Eocene Thermal Maximum</span><span class="de">AbschlussprÃ¼fung: Das PalÃ¤ozÃ¤n-EozÃ¤n-Temperaturmaximum</span></div>
            <div class="exam-info"><strong><span class="en">Total Points:</span><span class="de">Gesamtpunkte:</span></strong> 80 | <strong><span class="en">Time:</span><span class="de">Zeit:</span></strong> 2 <span class="en">hours</span><span class="de">Stunden</span> (+5 min <span class="en">grace</span><span class="de">Nachfrist</span>)<br><span class="en">Winter Semester 2025-26</span><span class="de">Wintersemester 2025-26</span> | Friedrich-Alexander-UniversitÃ¤t Erlangen-NÃ¼rnberg</div>
        </div>

        <div class="reference-bar">
            <span><strong><span class="en">Course:</span><span class="de">Kurs:</span></strong> MSc <span class="en">Sedimentary Geochemistry</span><span class="de">SedimentÃ¤re Geochemie</span></span>
            <span><strong><span class="en">Instructor:</span><span class="de">Dozent:</span></strong> PD Dr. Luca Caracciolo</span>
            <span><strong><span class="en">Date:</span><span class="de">Datum:</span></strong> 11 <span class="en">February</span><span class="de">Februar</span> 2026</span>
            <span><strong><span class="en">Contact:</span><span class="de">Kontakt:</span></strong> luca.caracciolo@fau.de</span>
        </div>

        <div class="student-info">
            <h3>ğŸ“‹ <span class="en">Student Information</span><span class="de">Studierenden-Informationen</span></h3>
            <div class="info-grid">
                <div class="info-field"><label><span class="en">Full Name *</span><span class="de">VollstÃ¤ndiger Name *</span></label><input type="text" id="studentName" placeholder="" oninput="updateWatermark()"></div>
                <div class="info-field"><label><span class="en">Email Address *</span><span class="de">E-Mail-Adresse *</span></label><input type="email" id="studentEmail" placeholder="your.email@fau.de"></div>
                <div class="info-field"><label><span class="en">Student ID *</span><span class="de">Matrikelnummer *</span></label><input type="text" id="studentId" placeholder="z.B. 12345678"></div>
                <div class="info-field"><label><span class="en">Submission Date</span><span class="de">Abgabedatum</span></label><input type="text" id="submissionDate" readonly></div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">ğŸ“– <span class="en">EXAM INSTRUCTIONS</span><span class="de">PRÃœFUNGSHINWEISE</span></div>
            <div class="concept-box">
                <p><strong><span class="en">Read carefully:</span><span class="de">Bitte sorgfÃ¤ltig lesen:</span></strong></p>
                <ul style="margin-left:20px;margin-top:10px">
                    <li><span class="en">4 parts totaling 80 points</span><span class="de">4 Teile mit insgesamt 80 Punkten</span></li>
                    <li><span class="en">2 hours + 5-minute grace period</span><span class="de">2 Stunden + 5 Minuten Nachfrist</span></li>
                    <li><span class="en">All answers auto-save</span><span class="de">Alle Antworten werden automatisch gespeichert</span></li>
                    <li><span class="en">Show all calculation steps for full credit</span><span class="de">Zeigen Sie alle Rechenschritte fÃ¼r volle Punktzahl</span></li>
                </ul>
            </div>
        </div>

        <div class="section">
            <div class="section-title"><span class="en">PART 1: CARBON ISOTOPE EXCURSION (25 points)</span><span class="de">TEIL 1: KOHLENSTOFFISOTOPEN-EXKURSION (25 Punkte)</span></div>
            <div class="concept-box"><p><span class="en">The PETM (~56 Ma) is characterized by a pronounced <strong>negative carbon isotope excursion (CIE)</strong> recorded globally in marine and terrestrial sediments.</span><span class="de">Das PETM (~56 Ma) ist durch eine ausgeprÃ¤gte <strong>negative Kohlenstoffisotopen-Exkursion (CIE)</strong> gekennzeichnet, die global in marinen und terrestrischen Sedimenten aufgezeichnet ist.</span></p></div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig1_zachos2001_cenozoic_record.png" alt="Global records"><div class="figure-caption"><strong><span class="en">Figure 1:</span><span class="de">Abbildung 1:</span></strong> <span class="en">Global deep-sea Î´Â¹â¸O and Î´Â¹Â³C records (Zachos et al., 2001). The PETM is marked by sharp negative excursions at ~55 Ma.</span><span class="de">Globale Tiefsee-Î´Â¹â¸O- und Î´Â¹Â³C-Kurven (Zachos et al., 2001). Das PETM ist durch scharfe negative Exkursionen bei ~55 Ma gekennzeichnet.</span></div></div>

            <table class="data-table">
                <thead><tr><th><span class="en">Stratigraphic Interval</span><span class="de">Stratigraphisches Intervall</span></th><th>Î´Â¹Â³C (â€° VPDB)</th><th><span class="en">Description</span><span class="de">Beschreibung</span></th></tr></thead>
                <tbody>
                    <tr><td><span class="en">Pre-PETM (baseline)</span><span class="de">PrÃ¤-PETM (Ausgangswert)</span></td><td>+1.8</td><td><span class="en">Late Paleocene stable values</span><span class="de">Stabile Werte im spÃ¤ten PalÃ¤ozÃ¤n</span></td></tr>
                    <tr><td><span class="en">CIE Onset</span><span class="de">CIE-Beginn</span></td><td>-1.5</td><td><span class="en">Rapid negative shift</span><span class="de">Schnelle negative Verschiebung</span></td></tr>
                    <tr><td><span class="en">CIE Body</span><span class="de">CIE-Hauptphase</span></td><td>-1.2 to -0.8</td><td><span class="en">Sustained negative values</span><span class="de">Anhaltend negative Werte</span></td></tr>
                    <tr><td><span class="en">Recovery</span><span class="de">Erholung</span></td><td>+0.5 to +1.0</td><td><span class="en">Gradual return</span><span class="de">AllmÃ¤hliche RÃ¼ckkehr</span></td></tr>
                </tbody>
            </table>

            <div class="figure-box"><img src="images/petm_exam_figures/fig9_mcinerney2011_cie_compilation.png" alt="CIE compilation"><div class="figure-caption"><strong><span class="en">Figure 2:</span><span class="de">Abbildung 2:</span></strong> <span class="en">CIE compilation across archives (McInerney & Wing, 2011). Marine carbonates (blue) vs terrestrial records (green).</span><span class="de">CIE-Zusammenstellung aus verschiedenen Archiven (McInerney & Wing, 2011). Marine Karbonate (blau) vs. terrestrische Aufzeichnungen (grÃ¼n).</span></div></div>

            <table class="data-table">
                <thead><tr><th><span class="en">Carbon Source</span><span class="de">Kohlenstoffquelle</span></th><th>Î´Â¹Â³C (â€°)</th><th><span class="en">Source</span><span class="de">Quelle</span></th></tr></thead>
                <tbody>
                    <tr><td><span class="en">Volcanic COâ‚‚</span><span class="de">Vulkanisches COâ‚‚</span></td><td>-6</td><td><span class="en">Volcanic degassing, LIPs</span><span class="de">Vulkanische Entgasung, LIPs</span></td></tr>
                    <tr><td><span class="en">Organic Carbon</span><span class="de">Organischer Kohlenstoff</span></td><td>-22</td><td><span class="en">Marine organic matter</span><span class="de">Marines organisches Material</span></td></tr>
                    <tr><td><span class="en">Methane Hydrates</span><span class="de">Methanhydrate</span></td><td>-60</td><td><span class="en">Biogenic methane</span><span class="de">Biogenes Methan</span></td></tr>
                </tbody>
            </table>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 1.1: CIE Magnitude (5 points)</span><span class="de">Frage 1.1: CIE-Amplitude (5 Punkte)</span></div>
                <div class="sub-question">
                    <p><span class="en">Calculate the CIE magnitude (Î”Î´Â¹Â³C) from pre-PETM baseline to CIE onset.</span><span class="de">Berechnen Sie die CIE-Amplitude (Î”Î´Â¹Â³C) vom PrÃ¤-PETM-Ausgangswert bis zum CIE-Beginn.</span></p>
                    <div class="calculation-label">ğŸ’» <span class="en">CALCULATION:</span><span class="de">BERECHNUNG:</span></div>
                    <textarea class="calculation-area" id="p1_1" placeholder="Î”Î´Â¹Â³C = Î´Â¹Â³C_onset - Î´Â¹Â³C_baseline = ..."></textarea>
                </div>
            </div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig5_zeebe2016_isotope_records.png" alt="Isotope records"><div class="figure-caption"><strong><span class="en">Figure 3:</span><span class="de">Abbildung 3:</span></strong> <span class="en">High-resolution stable isotope records across the PETM (Zeebe et al., 2016).</span><span class="de">HochaufgelÃ¶ste stabile Isotopenkurven Ã¼ber das PETM (Zeebe et al., 2016).</span></div></div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 1.2: Carbon Source Identification (10 points)</span><span class="de">Frage 1.2: Identifikation der Kohlenstoffquelle (10 Punkte)</span></div>
                <div class="equation-box">
                    <div class="equation-title"><span class="en">Mass Balance Equation:</span><span class="de">Massenbilanzgleichung:</span></div>
                    M<sub>added</sub> = M<sub>ocean</sub> Ã— (Î´Â¹Â³C<sub>final</sub> - Î´Â¹Â³C<sub>initial</sub>) / (Î´Â¹Â³C<sub>source</sub> - Î´Â¹Â³C<sub>final</sub>)<br>
                    <small>M<sub>ocean</sub> = ~38,000 Gt C</small>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part A (5 pts): Volcanic COâ‚‚</span><span class="de">Teil A (5 Pkt.): Vulkanisches COâ‚‚</span></div>
                    <p><span class="en">If CIE caused entirely by volcanic COâ‚‚ (Î´Â¹Â³C = -6â€°), how much carbon? Use Î´Â¹Â³C<sub>initial</sub> = +1.8â€°, Î´Â¹Â³C<sub>final</sub> = -1.5â€°.</span><span class="de">Wenn die CIE vollstÃ¤ndig durch vulkanisches COâ‚‚ (Î´Â¹Â³C = -6â€°) verursacht wurde, wie viel Kohlenstoff? Verwenden Sie Î´Â¹Â³C<sub>initial</sub> = +1,8â€°, Î´Â¹Â³C<sub>final</sub> = -1,5â€°.</span></p>
                    <div class="calculation-label">ğŸ’» <span class="en">CALCULATION:</span><span class="de">BERECHNUNG:</span></div>
                    <textarea class="calculation-area" id="p1_2a" placeholder="M_added = 38,000 Ã— ((-1.5) - (+1.8)) / ((-6) - (-1.5)) = ..."></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part B (5 pts): Methane Hydrates</span><span class="de">Teil B (5 Pkt.): Methanhydrate</span></div>
                    <p><span class="en">If caused by methane hydrates (Î´Â¹Â³C = -60â€°), how much carbon? Explain why methane is more isotopically efficient.</span><span class="de">Wenn durch Methanhydrate (Î´Â¹Â³C = -60â€°) verursacht, wie viel Kohlenstoff? ErklÃ¤ren Sie, warum Methan isotopisch effizienter ist.</span></p>
                    <div class="calculation-label">ğŸ’» <span class="en">CALCULATION:</span><span class="de">BERECHNUNG:</span></div>
                    <textarea class="calculation-area" id="p1_2b" placeholder="M_added = 38,000 Ã— ((-1.5) - (+1.8)) / ((-60) - (-1.5)) = ..."></textarea>
                </div>
            </div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig6_zeebe2016_carbon_release.png" alt="Carbon rates"><div class="figure-caption"><strong><span class="en">Figure 4:</span><span class="de">Abbildung 4:</span></strong> <span class="en">Carbon release model and rates (Zeebe et al., 2016). Modern ~10 Pg C/yr vs PETM ~0.6-1.1 Pg C/yr.</span><span class="de">Kohlenstofffreisetzungsmodell und -raten (Zeebe et al., 2016). Modern ~10 Pg C/Jahr vs. PETM ~0,6-1,1 Pg C/Jahr.</span></div></div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 1.3: Modern vs PETM Rates (10 points)</span><span class="de">Frage 1.3: Moderne vs. PETM-Raten (10 Punkte)</span></div>
                <div class="info-note"><strong>ğŸ“Š <span class="en">Data:</span><span class="de">Daten:</span></strong> <span class="en">Modern emissions: ~10.1 Gt C/yr | PETM: ~3,500 Gt C over ~4,000 years</span><span class="de">Moderne Emissionen: ~10,1 Gt C/Jahr | PETM: ~3.500 Gt C Ã¼ber ~4.000 Jahre</span></div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part A (3 pts): PETM rate</span><span class="de">Teil A (3 Pkt.): PETM-Rate</span></div>
                    <textarea class="calculation-area" id="p1_3a" placeholder="PETM rate = Total / Duration = ..." style="min-height:80px"></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part B (3 pts): Rate ratio</span><span class="de">Teil B (3 Pkt.): RatenverhÃ¤ltnis</span></div>
                    <textarea class="calculation-area" id="p1_3b" placeholder="Ratio = Modern / PETM = ..." style="min-height:80px"></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part C (4 pts): No-Analogue Implications</span><span class="de">Teil C (4 Pkt.): Implikationen eines Zustands ohne Analogie</span></div>
                    <p><span class="en">Zeebe et al. (2016) described modern conditions as "no-analogue state." What are implications for feedbacks and adaptation?</span><span class="de">Zeebe et al. (2016) beschrieben die heutigen Bedingungen als "Zustand ohne Analogie". Welche Implikationen ergeben sich fÃ¼r RÃ¼ckkopplungen und Anpassung?</span></p>
                    <textarea class="answer-area" id="p1_3c" placeholder=""></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title"><span class="en">PART 2: OXYGEN ISOTOPE PALEOTHERMOMETRY (30 points)</span><span class="de">TEIL 2: SAUERSTOFFISOTOPEN-PALÃ„OTHERMOMETRIE (30 Punkte)</span></div>
            <div class="concept-box"><p><span class="en">Oxygen isotopes in benthic foraminifera constrain deep-ocean temperatures during the PETM.</span><span class="de">Sauerstoffisotope in benthischen Foraminiferen ermÃ¶glichen die Bestimmung von Tiefseewassertemperaturen wÃ¤hrend des PETM.</span></p></div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig2_zachos2001_petm_detail.png" alt="PETM detail"><div class="figure-caption"><strong><span class="en">Figure 5:</span><span class="de">Abbildung 5:</span></strong> <span class="en">PETM records from multiple ODP Sites (Zachos et al., 2001). Coupled Î´Â¹Â³C and Î´Â¹â¸O excursions.</span><span class="de">PETM-Aufzeichnungen von mehreren ODP-Bohrungen (Zachos et al., 2001). Gekoppelte Î´Â¹Â³C- und Î´Â¹â¸O-Exkursionen.</span></div></div>

            <div class="equation-box">
                <div class="equation-title">Kim & O'Neil (1997):</div>
                T(Â°C) = 16.1 - 4.64 Ã— Î”Â¹â¸O + 0.09 Ã— (Î”Â¹â¸O)Â²<br>
                <small>Î”Â¹â¸O = Î´Â¹â¸O<sub>calcite(VPDB)</sub> - Î´Â¹â¸O<sub>water(VSMOW)</sub></small>
            </div>

            <div class="info-note"><strong>âš ï¸ <span class="en">ASSUMPTION:</span><span class="de">ANNAHME:</span></strong> <span class="en">Ice-free Paleocene-Eocene:</span><span class="de">Eisfreies PalÃ¤ozÃ¤n-EozÃ¤n:</span> Î´Â¹â¸O<sub>seawater</sub> = <strong>-1.0â€° VSMOW</strong></div>

            <table class="data-table">
                <thead><tr><th><span class="en">Interval</span><span class="de">Intervall</span></th><th>Î´Â¹â¸O (â€° VPDB)</th><th>Site 690</th></tr></thead>
                <tbody>
                    <tr><td><span class="en">Pre-PETM</span><span class="de">PrÃ¤-PETM</span></td><td>-0.2</td><td><span class="en">Baseline</span><span class="de">Ausgangswert</span></td></tr>
                    <tr><td><span class="en">PETM Onset</span><span class="de">PETM-Beginn</span></td><td>-1.4</td><td><span class="en">Peak warming</span><span class="de">Maximale ErwÃ¤rmung</span></td></tr>
                    <tr><td><span class="en">Recovery</span><span class="de">Erholung</span></td><td>-0.4 to -0.2</td><td><span class="en">Cooling</span><span class="de">AbkÃ¼hlung</span></td></tr>
                </tbody>
            </table>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 2.1: Temperature Calculations (15 points)</span><span class="de">Frage 2.1: Temperaturberechnungen (15 Punkte)</span></div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part A (5 pts): Pre-PETM Temperature</span><span class="de">Teil A (5 Pkt.): PrÃ¤-PETM-Temperatur</span></div>
                    <p><span class="en">Calculate using Î´Â¹â¸O<sub>calcite</sub> = -0.2â€°, Î´Â¹â¸O<sub>water</sub> = -1.0â€°.</span><span class="de">Berechnen Sie mit Î´Â¹â¸O<sub>Calcit</sub> = -0,2â€°, Î´Â¹â¸O<sub>Wasser</sub> = -1,0â€°.</span></p>
                    <textarea class="calculation-area" id="p2_1a" placeholder="Î”Â¹â¸O = (-0.2) - (-1.0) = ...&#10;T = 16.1 - 4.64Ã—(Î”Â¹â¸O) + 0.09Ã—(Î”Â¹â¸O)Â² = ..."></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part B (5 pts): PETM Onset Temperature</span><span class="de">Teil B (5 Pkt.): PETM-Beginn-Temperatur</span></div>
                    <p><span class="en">Calculate using Î´Â¹â¸O<sub>calcite</sub> = -1.4â€°.</span><span class="de">Berechnen Sie mit Î´Â¹â¸O<sub>Calcit</sub> = -1,4â€°.</span></p>
                    <textarea class="calculation-area" id="p2_1b" placeholder="Î”Â¹â¸O = (-1.4) - (-1.0) = ...&#10;T = ..."></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part C (5 pts): Warming Magnitude</span><span class="de">Teil C (5 Pkt.): ErwÃ¤rmungsausmaÃŸ</span></div>
                    <p><span class="en">Calculate Î”T and compare to published +4-5Â°C estimates.</span><span class="de">Berechnen Sie Î”T und vergleichen Sie mit den publizierten SchÃ¤tzungen von +4-5Â°C.</span></p>
                    <textarea class="calculation-area" id="p2_1c" placeholder="Î”T = T_onset - T_pre = ..."></textarea>
                </div>
            </div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 2.2: Ice Volume Effects (15 points)</span><span class="de">Frage 2.2: Eisvolumeneffekte (15 Punkte)</span></div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part A (5 pts): Why no ice correction for PETM?</span><span class="de">Teil A (5 Pkt.): Warum keine Eiskorrektur fÃ¼r das PETM?</span></div>
                    <textarea class="answer-area" id="p2_2a" placeholder=""></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part B (5 pts): Uncertainty Analysis</span><span class="de">Teil B (5 Pkt.): Unsicherheitsanalyse</span></div>
                    <p><span class="en">If Î´Â¹â¸O<sub>water</sub> = -0.5â€° instead of -1.0â€°, recalculate PETM temperature.</span><span class="de">Wenn Î´Â¹â¸O<sub>Wasser</sub> = -0,5â€° statt -1,0â€°, berechnen Sie die PETM-Temperatur neu.</span></p>
                    <textarea class="calculation-area" id="p2_2b" placeholder=""></textarea>
                </div>
                <div class="sub-question">
                    <div class="sub-question-title"><span class="en">Part C (5 pts): Multi-proxy Validation</span><span class="de">Teil C (5 Pkt.): Multi-Proxy-Validierung</span></div>
                    <p><span class="en">Why use multiple proxies (Mg/Ca, TEX86, clumped isotopes) with Î´Â¹â¸O?</span><span class="de">Warum sollten mehrere Proxies (Mg/Ca, TEX86, Clumped Isotope) zusammen mit Î´Â¹â¸O verwendet werden?</span></p>
                    <textarea class="answer-area" id="p2_2c" placeholder=""></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title"><span class="en">PART 3: OCEAN ACIDIFICATION (15 points)</span><span class="de">TEIL 3: OZEANVERSAUERUNG (15 Punkte)</span></div>
            <div class="concept-box"><p><span class="en">The PETM shows widespread ocean acidification and CCD shoaling. Boron isotopes (Î´Â¹Â¹B) reconstruct past ocean pH.</span><span class="de">Das PETM zeigt weitverbreitete Ozeanversauerung und CCD-Verflachung. Bor-Isotope (Î´Â¹Â¹B) rekonstruieren den vergangenen Ozean-pH-Wert.</span></p></div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig3_zachos2005_caco3_dissolution.png" alt="CaCO3 transect"><div class="figure-caption"><strong><span class="en">Figure 6:</span><span class="de">Abbildung 6:</span></strong> <span class="en">CaCOâ‚ƒ content across Walvis Ridge depth transect (Zachos et al., 2005). CCD shoaling evident.</span><span class="de">CaCOâ‚ƒ-Gehalt entlang des Walvis-RÃ¼cken-Tiefenprofils (Zachos et al., 2005). CCD-Verflachung erkennbar.</span></div></div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig4_zachos2005_carbon_isotopes.png" alt="d13C CCD"><div class="figure-caption"><strong><span class="en">Figure 7:</span><span class="de">Abbildung 7:</span></strong> <span class="en">Î´Â¹Â³C records showing CIE-dissolution relationship across multiple sites (Zachos et al., 2005).</span><span class="de">Î´Â¹Â³C-Kurven, die die CIE-LÃ¶sungs-Beziehung an mehreren Standorten zeigen (Zachos et al., 2005).</span></div></div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 3.1: CCD Shoaling Mechanism (7 points)</span><span class="de">Frage 3.1: Mechanismus der CCD-Verflachung (7 Punkte)</span></div>
                <div class="sub-question">
                    <p><span class="en">Explain how COâ‚‚ release causes CCD shoaling. Include carbonate chemistry, why CCD rises, and sediment record implications.</span><span class="de">ErklÃ¤ren Sie, wie COâ‚‚-Freisetzung zur CCD-Verflachung fÃ¼hrt. BerÃ¼cksichtigen Sie Karbonatchemie, warum die CCD ansteigt, und Auswirkungen auf den Sedimentbefund.</span></p>
                    <textarea class="answer-area" id="p3_1" placeholder="COâ‚‚ + Hâ‚‚O â‡Œ Hâ‚‚COâ‚ƒ â‡Œ ..." style="min-height:180px"></textarea>
                </div>
            </div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig7_gutjahr2017_ph_boron.png" alt="pH reconstruction"><div class="figure-caption"><strong><span class="en">Figure 8:</span><span class="de">Abbildung 8:</span></strong> <span class="en">Boron isotope and stable isotope records (Gutjahr et al., 2017). pH drop ~0.3-0.4 units during PETM.</span><span class="de">Bor-Isotopen- und stabile Isotopenkurven (Gutjahr et al., 2017). pH-Abfall ~0,3-0,4 Einheiten wÃ¤hrend des PETM.</span></div></div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 3.2: Boron Isotopes & pH (8 points)</span><span class="de">Frage 3.2: Bor-Isotope & pH (8 Punkte)</span></div>
                <div class="sub-question">
                    <p><span class="en">Explain mechanistically WHY lower pH produces lower Î´Â¹Â¹B in carbonates. Address boron speciation, isotopic fractionation, and incorporation.</span><span class="de">ErklÃ¤ren Sie mechanistisch, WARUM niedrigerer pH-Wert zu niedrigerem Î´Â¹Â¹B in Karbonaten fÃ¼hrt. BerÃ¼cksichtigen Sie Bor-Speziation, isotopische Fraktionierung und Einbau.</span></p>
                    <textarea class="answer-area" id="p3_2" placeholder="Borate [B(OH)â‚„â»] vs boric acid [B(OH)â‚ƒ]..." style="min-height:180px"></textarea>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title"><span class="en">PART 4: MULTI-PROXY SYNTHESIS (10 points)</span><span class="de">TEIL 4: MULTI-PROXY-SYNTHESE (10 Punkte)</span></div>

            <div class="figure-box"><img src="images/petm_exam_figures/fig8_gutjahr2017_ph_reconstruction.png" alt="Earth system model"><div class="figure-caption"><strong><span class="en">Figure 9:</span><span class="de">Abbildung 9:</span></strong> <span class="en">Î´Â¹Â³C evolution and pH reconstruction from multiple sites (Gutjahr et al., 2017).</span><span class="de">Î´Â¹Â³C-Entwicklung und pH-Rekonstruktion von mehreren Standorten (Gutjahr et al., 2017).</span></div></div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 4.1: Integrated PETM Narrative (5 points)</span><span class="de">Frage 4.1: Integrierte PETM-Darstellung (5 Punkte)</span></div>
                <div class="sub-question">
                    <p><span class="en">Construct a coherent PETM narrative: (1) trigger, (2) carbon cycle response, (3) climate response, (4) ocean chemistry, (5) recovery.</span><span class="de">Erstellen Sie eine kohÃ¤rente PETM-Darstellung: (1) AuslÃ¶ser, (2) Kohlenstoffkreislauf-Reaktion, (3) Klimareaktion, (4) Ozeanchemie, (5) Erholung.</span></p>
                    <textarea class="answer-area" id="p4_1" placeholder="" style="min-height:200px"></textarea>
                </div>
            </div>

            <div class="question-block">
                <div class="question-title"><span class="en">Question 4.2: Modern Implications (5 points)</span><span class="de">Frage 4.2: Moderne Implikationen (5 Punkte)</span></div>
                <div class="sub-question">
                    <p><span class="en">Discuss: (a) what PETM tells us about climate sensitivity and feedbacks, (b) key differences limiting the modern analogy.</span><span class="de">Diskutieren Sie: (a) was das PETM uns Ã¼ber KlimasensitivitÃ¤t und RÃ¼ckkopplungen sagt, (b) wesentliche Unterschiede, die die moderne Analogie einschrÃ¤nken.</span></p>
                    <textarea class="answer-area" id="p4_2" placeholder="" style="min-height:200px"></textarea>
                </div>
            </div>
        </div>

        <div class="export-section">
            <h3>ğŸ“¤ <span class="en">Submit Your Exam</span><span class="de">PrÃ¼fung abgeben</span></h3>
            <div class="export-buttons">
                <button class="export-btn submit" onclick="submitExam()">âœ“ <span class="en">Submit & Download Word</span><span class="de">Abgeben & Word herunterladen</span></button>
                <button class="export-btn copy" onclick="copyToClipboard()">ğŸ“‹ <span class="en">Copy to Clipboard</span><span class="de">In Zwischenablage kopieren</span></button>
                <button class="export-btn print" onclick="window.print()">ğŸ–¨ï¸ <span class="en">Print to PDF</span><span class="de">Als PDF drucken</span></button>
            </div>
        </div>
    </div>

    <!-- Calculator -->
    <div class="calculator-container">
        <div class="calculator-panel" id="calculatorPanel">
            <div class="calc-header">ğŸ§® <span class="en">Isotope Calculator</span><span class="de">Isotopen-Rechner</span></div>
            <div class="calculator-panel-inner">
            <div class="calc-body">
                <input type="text" class="calc-display" id="calcDisplay" readonly placeholder="0">
                <div class="calc-tabs">
                    <button class="calc-tab active" onclick="switchCalcTab('basic',this)"><span class="en">Basic</span><span class="de">Basis</span></button>
                    <button class="calc-tab" onclick="switchCalcTab('isotope',this)"><span class="en">Isotope Functions</span><span class="de">Isotopen-Funktionen</span></button>
                </div>
                <div id="basicCalc">
                    <div class="calc-buttons">
                        <button class="calc-btn clear" onclick="clearCalc()">C</button>
                        <button class="calc-btn" onclick="appendCalc('(')">(</button>
                        <button class="calc-btn" onclick="appendCalc(')')">)</button>
                        <button class="calc-btn operator" onclick="appendCalc('/')">Ã·</button>
                        <button class="calc-btn" onclick="appendCalc('7')">7</button>
                        <button class="calc-btn" onclick="appendCalc('8')">8</button>
                        <button class="calc-btn" onclick="appendCalc('9')">9</button>
                        <button class="calc-btn operator" onclick="appendCalc('*')">Ã—</button>
                        <button class="calc-btn" onclick="appendCalc('4')">4</button>
                        <button class="calc-btn" onclick="appendCalc('5')">5</button>
                        <button class="calc-btn" onclick="appendCalc('6')">6</button>
                        <button class="calc-btn operator" onclick="appendCalc('-')">âˆ’</button>
                        <button class="calc-btn" onclick="appendCalc('1')">1</button>
                        <button class="calc-btn" onclick="appendCalc('2')">2</button>
                        <button class="calc-btn" onclick="appendCalc('3')">3</button>
                        <button class="calc-btn operator" onclick="appendCalc('+')">+</button>
                        <button class="calc-btn" onclick="appendCalc('0')">0</button>
                        <button class="calc-btn" onclick="appendCalc('.')">.</button>
                        <button class="calc-btn equals" onclick="calculate()">=</button>
                    </div>
                    <div style="margin-top:10px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px">
                        <button class="calc-btn function" onclick="appendCalc('Math.log(')">ln</button>
                        <button class="calc-btn function" onclick="appendCalc('Math.sqrt(')">âˆš</button>
                        <button class="calc-btn function" onclick="appendCalc('**')">x^y</button>
                    </div>
                </div>
                <div id="isotopeCalc" class="isotope-functions">
                    <button class="isotope-func-btn" onclick="showIsotopeFunc('temp_kim')">ğŸŒ¡ï¸ <span class="en">Carbonate Temperature (Kim & O'Neil 1997)</span><span class="de">Karbonat-Temperatur (Kim & O'Neil 1997)</span></button>
                    <button class="isotope-func-btn" onclick="showIsotopeFunc('temp_phosphate')">ğŸŒ¡ï¸ <span class="en">Phosphate Temperature (LÃ©cuyer et al.)</span><span class="de">Phosphat-Temperatur (LÃ©cuyer et al.)</span></button>
                    <button class="isotope-func-btn" onclick="showIsotopeFunc('temp_anderson')">ğŸŒ¡ï¸ <span class="en">Carbonate Temperature (Anderson & Arthur)</span><span class="de">Karbonat-Temperatur (Anderson & Arthur)</span></button>
                    <button class="isotope-func-btn" onclick="showIsotopeFunc('convert_vpdb')">ğŸ”„ <span class="en">Convert VPDB â†” VSMOW</span><span class="de">Umrechnung VPDB â†” VSMOW</span></button>
                    <button class="isotope-func-btn" onclick="showIsotopeFunc('alpha')">Î± <span class="en">Alpha from Delta Values</span><span class="de">Alpha aus Delta-Werten</span></button>
                    <div class="calc-input-group" id="func_temp_kim">
                        <h4 style="margin-top:0"><span class="en">Carbonate Temperature (Kim & O'Neil, 1997)</span><span class="de">Karbonat-Temperatur (Kim & O'Neil, 1997)</span></h4>
                        <p style="font-size:.85em;color:#666">T(Â°C) = 16.1 - 4.64 Ã— Î”Â¹â¸O + 0.09 Ã— (Î”Â¹â¸O)Â²</p>
                        <label>Î´Â¹â¸O<sub>calcite</sub> (â€° VPDB):</label>
                        <input type="number" id="kim_d18O_carb" step="0.1" placeholder="z.B. -0.2">
                        <label>Î´Â¹â¸O<sub>water</sub> (â€° VSMOW):</label>
                        <input type="number" id="kim_water" step="0.1" value="-1.0">
                        <button onclick="calcKimTemp()" style="width:100%;padding:10px;background:#16a085;color:#fff;border:none;border-radius:5px;cursor:pointer"><span class="en">Calculate</span><span class="de">Berechnen</span></button>
                        <div class="calc-result" id="result_temp_kim"></div>
                    </div>
                    <div class="calc-input-group" id="func_temp_phosphate">
                        <h4 style="margin-top:0"><span class="en">Phosphate Temperature (LÃ©cuyer et al., 2013)</span><span class="de">Phosphat-Temperatur (LÃ©cuyer et al., 2013)</span></h4>
                        <p style="font-size:.85em;color:#666">T(Â°C) = 117.4 - 4.50 Ã— (Î´Â¹â¸O<sub>phos</sub> - Î´Â¹â¸O<sub>water</sub>)</p>
                        <label>Î´Â¹â¸O<sub>phosphate</sub> (â€° VSMOW):</label>
                        <input type="number" id="phos_d18O" step="0.1" placeholder="z.B. 20.8">
                        <label>Î´Â¹â¸O<sub>water</sub> (â€° VSMOW):</label>
                        <input type="number" id="phos_water" step="0.1" value="-1.0">
                        <button onclick="calcPhosphateTemp()" style="width:100%;padding:10px;background:#16a085;color:#fff;border:none;border-radius:5px;cursor:pointer"><span class="en">Calculate</span><span class="de">Berechnen</span></button>
                        <div class="calc-result" id="result_temp_phosphate"></div>
                    </div>
                    <div class="calc-input-group" id="func_temp_anderson">
                        <h4 style="margin-top:0"><span class="en">Carbonate Temperature (Anderson & Arthur, 1983)</span><span class="de">Karbonat-Temperatur (Anderson & Arthur, 1983)</span></h4>
                        <p style="font-size:.85em;color:#666">T(Â°C) = 16.0 - 4.14(Î´c - Î´w) + 0.13(Î´c - Î´w)Â²</p>
                        <label>Î´Â¹â¸O<sub>carbonate</sub> (â€° VPDB):</label>
                        <input type="number" id="aa_d18O_carb" step="0.1" placeholder="z.B. -3.2">
                        <label>Î´Â¹â¸O<sub>water</sub> (â€° VSMOW):</label>
                        <input type="number" id="aa_water" step="0.1" value="-1.0">
                        <button onclick="calcAndersonTemp()" style="width:100%;padding:10px;background:#16a085;color:#fff;border:none;border-radius:5px;cursor:pointer"><span class="en">Calculate</span><span class="de">Berechnen</span></button>
                        <div class="calc-result" id="result_temp_anderson"></div>
                    </div>
                    <div class="calc-input-group" id="func_convert_vpdb">
                        <h4 style="margin-top:0"><span class="en">Convert VPDB â†” VSMOW</span><span class="de">Umrechnung VPDB â†” VSMOW</span></h4>
                        <p style="font-size:.85em;color:#666">Î´Â¹â¸O<sub>VSMOW</sub> = 1.03091 Ã— Î´Â¹â¸O<sub>VPDB</sub> + 30.91</p>
                        <label><span class="en">Input value (â€°):</span><span class="de">Eingabewert (â€°):</span></label>
                        <input type="number" id="convert_value" step="0.1" placeholder="z.B. -3.2">
                        <label><span class="en">Convert from:</span><span class="de">Umrechnen von:</span></label>
                        <select id="convert_from"><option value="vpdb">VPDB â†’ VSMOW</option><option value="vsmow">VSMOW â†’ VPDB</option></select>
                        <button onclick="convertStandard()" style="width:100%;padding:10px;background:#16a085;color:#fff;border:none;border-radius:5px;cursor:pointer"><span class="en">Convert</span><span class="de">Umrechnen</span></button>
                        <div class="calc-result" id="result_convert_vpdb"></div>
                    </div>
                    <div class="calc-input-group" id="func_alpha">
                        <h4 style="margin-top:0"><span class="en">Calculate Î± (Fractionation Factor)</span><span class="de">Berechne Î± (Fraktionierungsfaktor)</span></h4>
                        <p style="font-size:.85em;color:#666">Î± = (1000 + Î´A) / (1000 + Î´B)</p>
                        <label>Î´<sub>A</sub> (<span class="en">phase A</span><span class="de">Phase A</span>, â€°):</label>
                        <input type="number" id="alpha_a" step="0.1" placeholder="">
                        <label>Î´<sub>B</sub> (<span class="en">phase B</span><span class="de">Phase B</span>, â€°):</label>
                        <input type="number" id="alpha_b" step="0.1" placeholder="">
                        <button onclick="calcAlpha()" style="width:100%;padding:10px;background:#16a085;color:#fff;border:none;border-radius:5px;cursor:pointer"><span class="en">Calculate Î±</span><span class="de">Berechne Î±</span></button>
                        <div class="calc-result" id="result_alpha"></div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <button class="calculator-toggle" onclick="toggleCalculator()">ğŸ§® <span class="en">Calculator</span><span class="de">Rechner</span></button>
    </div>

    <script>
        // Language switching
        function setLanguage(lang) {
            document.body.classList.remove('lang-en', 'lang-de');
            document.body.classList.add('lang-' + lang);
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            localStorage.setItem('sedgeo-exam-lang', lang);
        }
        const savedLang = localStorage.getItem('sedgeo-exam-lang');
        if (savedLang) setLanguage(savedLang);

        const CORRECT_PASSWORD="GeochemProxies2026@",INSTRUCTOR_PASSWORD="Instructor2026!",EXAM_DURATION_MINUTES=120,GRACE_PERIOD_MINUTES=5,EXAM_START_DATE=new Date("2026-02-11T16:00:00");
        let timerInterval,remainingSeconds=EXAM_DURATION_MINUTES*60,isGracePeriod=!1,isInstructorMode=!1;

        function updateWatermark(){const e=document.getElementById("studentName").value,t=document.getElementById("watermark");e&&e.length>2?(t.textContent=e,t.classList.remove("hidden")):t.classList.add("hidden")}
        function initAutoSave(){document.querySelectorAll("input:not([readonly]), textarea").forEach((e=>{const t=localStorage.getItem("petm_exam_"+e.id);t&&(e.value=t),e.addEventListener("input",(function(){localStorage.setItem("petm_exam_"+this.id,this.value)}))})),updateWatermark()}
        function submitExam(){const e=document.getElementById("studentName").value||"Unknown",t=document.getElementById("studentEmail").value||"N/A",n=document.getElementById("studentId").value||"N/A",a=document.getElementById("submissionDate").value||(new Date).toLocaleString();showLoading("Generating Word document...");try{const{Document:i,Packer:s,Paragraph:o,TextRun:d,HeadingLevel:r,AlignmentType:l}=docx,c=[new o({text:"SEDIMENTARY GEOCHEMISTRY - PETM FINAL EXAM",heading:r.HEADING_1,alignment:l.CENTER}),new o({}),new o({children:[new d({text:"Student: ",bold:!0}),new d(e)]}),new o({children:[new d({text:"Email: ",bold:!0}),new d(t)]}),new o({children:[new d({text:"ID: ",bold:!0}),new d(n)]}),new o({children:[new d({text:"Date: ",bold:!0}),new d(a)]}),new o({})];["p1_1","p1_2a","p1_2b","p1_3a","p1_3b","p1_3c","p2_1a","p2_1b","p2_1c","p2_2a","p2_2b","p2_2c","p3_1","p3_2","p4_1","p4_2"].forEach((e=>{const t=document.getElementById(e);c.push(new o({}),new o({text:e.toUpperCase(),heading:r.HEADING_3}),new o({text:t?t.value:""}))}));const u=new i({sections:[{children:c}]});s.toBlob(u).then((t=>{saveAs(t,`PETM_Exam_${e.replace(/\s+/g,"_")}.docx`),hideLoading(),alert("Submitted! Word document downloaded.")}))}catch(e){hideLoading(),alert("Error. Use Copy to Clipboard.")}}
        function copyToClipboard(){let e=`PETM FINAL EXAM\n${"=".repeat(50)}\nStudent: ${document.getElementById("studentName").value}\nEmail: ${document.getElementById("studentEmail").value}\nID: ${document.getElementById("studentId").value}\n\n`;["p1_1","p1_2a","p1_2b","p1_3a","p1_3b","p1_3c","p2_1a","p2_1b","p2_1c","p2_2a","p2_2b","p2_2c","p3_1","p3_2","p4_1","p4_2"].forEach((t=>{const n=document.getElementById(t);e+=`${"-".repeat(40)}\n${t.toUpperCase()}\n${n?n.value:""}\n\n`})),navigator.clipboard.writeText(e).then((()=>alert("Copied!"))).catch((e=>alert("Copy failed")))}
        function showLoading(e){document.getElementById("loadingText").textContent=e,document.getElementById("loadingOverlay").classList.add("active")}
        function hideLoading(){document.getElementById("loadingOverlay").classList.remove("active")}
        document.addEventListener("DOMContentLoaded",function(){document.getElementById("submissionDate").value=(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});initAutoSave();});

        // Calculator functions
        function toggleCalculator(){document.getElementById("calculatorPanel").classList.toggle("active")}
        function switchCalcTab(e,t){document.querySelectorAll(".calc-tab").forEach(e=>e.classList.remove("active")),t.classList.add("active"),document.getElementById("basicCalc").style.display="basic"===e?"block":"none",document.getElementById("isotopeCalc").classList.toggle("active","isotope"===e),document.querySelectorAll(".calc-input-group").forEach(e=>e.classList.remove("active"))}
        function appendCalc(e){const t=document.getElementById("calcDisplay");t.value="0"===t.value||"Error"===t.value?e:t.value+e}
        function clearCalc(){document.getElementById("calcDisplay").value="0"}
        function calculate(){const e=document.getElementById("calcDisplay");try{e.value=eval(e.value).toFixed(4)}catch{e.value="Error"}}
        function showIsotopeFunc(e){document.querySelectorAll(".calc-input-group").forEach(e=>e.classList.remove("active")),document.getElementById("func_"+e).classList.add("active")}
        function calcPhosphateTemp(){const e=parseFloat(document.getElementById("phos_d18O").value),t=parseFloat(document.getElementById("phos_water").value);if(isNaN(e)||isNaN(t))return void(document.getElementById("result_temp_phosphate").innerHTML='<span style="color:red">Enter valid numbers / GÃ¼ltige Zahlen eingeben</span>');const n=117.4-4.5*(e-t);document.getElementById("result_temp_phosphate").innerHTML=`<strong>Temperature = ${n.toFixed(1)} Â°C</strong><br><small>T = 117.4 - 4.50 Ã— (${e} - (${t})) = ${n.toFixed(2)}</small>`}
        function calcAndersonTemp(){const e=parseFloat(document.getElementById("aa_d18O_carb").value),t=parseFloat(document.getElementById("aa_water").value);if(isNaN(e)||isNaN(t))return void(document.getElementById("result_temp_anderson").innerHTML='<span style="color:red">Enter valid numbers / GÃ¼ltige Zahlen eingeben</span>');const n=e-t,a=16-4.14*n+.13*Math.pow(n,2);document.getElementById("result_temp_anderson").innerHTML=`<strong>Temperature = ${a.toFixed(1)} Â°C</strong><br><small>Î´c (VPDB) = ${e}â€°</small><br><small>Î´w (VSMOW) = ${t}â€°</small><br><small>(Î´c - Î´w) = ${n.toFixed(2)}</small><br><small>T = 16.0 - 4.14(${n.toFixed(2)}) + 0.13(${n.toFixed(2)})Â² = ${a.toFixed(1)}</small>`}
        function calcKimTemp(){const e=parseFloat(document.getElementById("kim_d18O_carb").value),t=parseFloat(document.getElementById("kim_water").value);if(isNaN(e)||isNaN(t))return void(document.getElementById("result_temp_kim").innerHTML='<span style="color:red">Enter valid numbers / GÃ¼ltige Zahlen eingeben</span>');const n=e-t,a=16.1-4.64*n+.09*Math.pow(n,2);document.getElementById("result_temp_kim").innerHTML=`<strong>Temperature = ${a.toFixed(1)} Â°C</strong><br><small>Î´Â¹â¸O_calcite (VPDB) = ${e}â€°</small><br><small>Î´Â¹â¸O_water (VSMOW) = ${t}â€°</small><br><small>Î”Â¹â¸O = ${n.toFixed(2)}â€°</small><br><small>T = 16.1 - 4.64(${n.toFixed(2)}) + 0.09(${n.toFixed(2)})Â² = ${a.toFixed(1)} Â°C</small>`}
        function convertStandard(){const e=parseFloat(document.getElementById("convert_value").value),t=document.getElementById("convert_from").value;if(isNaN(e))return void(document.getElementById("result_convert_vpdb").innerHTML='<span style="color:red">Enter a valid number / GÃ¼ltige Zahl eingeben</span>');let n,a;"vpdb"===t?(n=1.03091*e+30.91,a=`${e}â€° VPDB â†’ ${n.toFixed(2)}â€° VSMOW`):(n=(e-30.91)/1.03091,a=`${e}â€° VSMOW â†’ ${n.toFixed(2)}â€° VPDB`),document.getElementById("result_convert_vpdb").innerHTML=`<strong>${a}</strong>`}
        function calcAlpha(){const e=parseFloat(document.getElementById("alpha_a").value),t=parseFloat(document.getElementById("alpha_b").value);if(isNaN(e)||isNaN(t))return void(document.getElementById("result_alpha").innerHTML='<span style="color:red">Enter valid numbers / GÃ¼ltige Zahlen eingeben</span>');const n=(1e3+e)/(1e3+t),a=1e3*Math.log(n);document.getElementById("result_alpha").innerHTML=`<strong>Î± = ${n.toFixed(5)}</strong><br><small>1000 ln Î± = ${a.toFixed(2)}</small>`}
    </script>
</body>
</html>

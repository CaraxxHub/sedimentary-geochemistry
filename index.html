<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sedimentary Geochemistry | GeoZentrum Nordbayern</title>
    
    <!-- Professional Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* FAU Color Palette */
            --fau-blue: #04316A;
            --fau-blue-dark: #002147;
            --fau-blue-light: #0056AD;
            --nat-green: #43B02A;
            --accent-gold: #C99700;
            --geochem-teal: #16a085;
            
            /* Neutral palette */
            --gray-50: #F8FAFC;
            --gray-100: #F1F5F9;
            --gray-200: #E2E8F0;
            --gray-300: #CBD5E1;
            --gray-400: #94A3B8;
            --gray-500: #64748B;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1E293B;
            --gray-900: #0F172A;
            
            /* Semantic */
            --success: #059669;
            --warning: #D97706;
            --error: #DC2626;
            
            /* Typography */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-serif: 'Merriweather', Georgia, serif;
            
            /* Spacing */
            --container-max: 1200px;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: var(--font-sans);
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
        }

        /* Language Toggle */
        body.lang-de .en { display: none !important; }
        body.lang-en .de { display: none !important; }

        /* ============================================
           LOGIN OVERLAY
        ============================================ */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--fau-blue-dark) 0%, var(--fau-blue) 50%, var(--fau-blue-light) 100%);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            overflow-y: auto;
        }
        .login-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }

        .login-card {
            background: white;
            border-radius: 16px;
            padding: 40px;
            width: 100%;
            max-width: 480px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            margin: 20px 0;
        }

        .login-logos {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 24px;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--gray-200);
        }
        .login-logos img {
            height: 50px;
            width: auto;
        }

        .login-title {
            text-align: center;
            margin-bottom: 8px;
        }
        .login-title h1 {
            font-family: var(--font-serif);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
        }
        .login-subtitle {
            text-align: center;
            color: var(--gray-500);
            font-size: 0.9rem;
            margin-bottom: 24px;
        }

        /* Login Tabs */
        .login-tabs {
            display: flex;
            margin-bottom: 24px;
            background: var(--gray-100);
            padding: 4px;
            border-radius: 8px;
        }
        .login-tabs > * { margin-right: 8px; }
        .login-tabs > *:last-child { margin-right: 0; }
        .login-tab {
            flex: 1;
            padding: 10px 16px;
            border: none;
            background: transparent;
            font-family: var(--font-sans);
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--gray-600);
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .login-tab.active {
            background: white;
            color: var(--fau-blue);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .login-panel { display: none; }
        .login-panel.active { display: block; }

        .form-group { margin-bottom: 16px; }
        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: 6px;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1.5px solid var(--gray-200);
            border-radius: 8px;
            font-size: 1rem;
            font-family: var(--font-sans);
            transition: border-color 0.2s, box-shadow 0.2s;
            background: white;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--fau-blue);
            box-shadow: 0 0 0 3px rgba(4, 49, 106, 0.1);
        }
        .form-textarea { resize: vertical; min-height: 80px; }
        .form-hint {
            font-size: 0.8rem;
            color: var(--gray-400);
            margin-top: 4px;
        }

        .login-btn {
            width: 100%;
            padding: 14px 24px;
            background: var(--fau-blue);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            font-family: var(--font-sans);
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .login-btn:hover { background: var(--fau-blue-dark); }
        .login-btn:active { transform: scale(0.98); }

        .login-error {
            background: #FEF2F2;
            border: 1px solid #FECACA;
            color: var(--error);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.875rem;
            margin-bottom: 16px;
            display: none;
            align-items: center;
            gap: 8px;
        }
        .login-error.visible { display: flex; }

        .login-footer {
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-100);
            text-align: center;
        }
        .login-footer p {
            font-size: 0.8rem;
            color: var(--gray-400);
            line-height: 1.5;
        }
        .login-footer a { color: var(--fau-blue); text-decoration: none; }

        .reset-link {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            margin-top: 12px;
            font-size: 0.8rem;
            color: var(--gray-400);
            cursor: pointer;
            transition: color 0.2s;
            background: none;
            border: none;
            font-family: var(--font-sans);
        }
        .reset-link:hover { color: var(--gray-600); }

        .lang-switch-login {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
        }
        .lang-switch-login > * { margin-left: 4px; }
        .lang-btn-small {
            padding: 6px 12px;
            border: 1px solid rgba(255,255,255,0.3);
            background: transparent;
            color: white;
            font-size: 0.8rem;
            font-family: var(--font-sans);
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .lang-btn-small.active {
            background: white;
            color: var(--fau-blue);
        }

        /* ============================================
           EXPIRED OVERLAY
        ============================================ */
        .expired-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, 0.9);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .expired-overlay.visible { display: flex; }
        .expired-card {
            background: white;
            border-radius: 16px;
            padding: 48px;
            text-align: center;
            max-width: 400px;
        }
        .expired-card h2 { color: var(--gray-900); margin: 16px 0 8px; }
        .expired-card p { color: var(--gray-500); }
        .expired-date { font-weight: 600; color: var(--error); font-size: 1.1rem; margin: 16px 0; }

        /* ============================================
           HEADER
        ============================================ */
        .site-header {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-top {
            background: var(--fau-blue);
            color: white;
            font-size: 0.8rem;
            padding: 8px 0;
        }
        .header-top-inner {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .breadcrumb { opacity: 0.85; }
        .breadcrumb a { color: white; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }

        .header-controls {
            display: flex;
            align-items: center;
        }
        .header-controls > * { margin-left: 16px; }
        .lang-switch {
            display: flex;
        }
        .lang-switch > * { margin-left: 4px; }
        .lang-btn {
            padding: 4px 10px;
            border: 1px solid rgba(255,255,255,0.3);
            background: transparent;
            color: white;
            font-size: 0.75rem;
            font-family: var(--font-sans);
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .lang-btn.active {
            background: white;
            color: var(--fau-blue);
        }

        .header-main {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 12px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .site-brand {
            display: flex;
            align-items: center;
            gap: 20px;
            text-decoration: none;
            color: var(--gray-900);
        }
        .brand-logos {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .brand-logos img {
            height: 40px;
            width: auto;
        }
        .brand-divider {
            width: 1px;
            height: 32px;
            background: var(--gray-300);
        }
        .site-title {
            font-family: var(--font-serif);
            font-size: 1.1rem;
            font-weight: 700;
            line-height: 1.2;
        }
        .site-subtitle {
            font-size: 0.75rem;
            color: var(--gray-500);
            font-weight: 400;
        }

        .header-right {
            display: flex;
            align-items: center;
        }
        .header-right > * { margin-left: 16px; }
        .user-info {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--gray-600);
            font-size: 0.875rem;
        }
        .user-badge {
            font-size: 0.7rem;
            padding: 2px 8px;
            background: var(--nat-green);
            color: white;
            border-radius: 100px;
            font-weight: 500;
        }
        .user-badge.guest { background: var(--accent-gold); }
        
        .header-btn {
            padding: 8px 16px;
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            font-size: 0.875rem;
            font-family: var(--font-sans);
            color: var(--gray-600);
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .header-btn:hover {
            background: var(--gray-200);
            color: var(--gray-800);
        }

        /* ============================================
           HERO
        ============================================ */
        .hero {
            background: linear-gradient(135deg, var(--fau-blue-dark) 0%, var(--fau-blue) 50%, var(--fau-blue-light) 100%);
            color: white;
            padding: 56px 24px;
        }
        .hero-inner {
            max-width: var(--container-max);
            margin: 0 auto;
        }
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            border-radius: 100px;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 20px;
        }
        .hero h1 {
            font-family: var(--font-serif);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: -0.02em;
        }
        .hero-description {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 640px;
            line-height: 1.7;
        }
        .welcome-msg {
            margin-top: 20px;
            padding: 14px 18px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
        }

        /* ============================================
           MAIN CONTENT
        ============================================ */
        .main-content {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 48px 24px;
        }

        .section-header {
            margin-bottom: 28px;
        }
        .section-header h2 {
            font-family: var(--font-serif);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 6px;
        }
        .section-header p {
            color: var(--gray-500);
            font-size: 0.95rem;
        }

        /* ============================================
           MODULE CARDS
        ============================================ */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            grid-gap: 24px;
            gap: 24px;
            margin-bottom: 48px;
        }

        .module-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid var(--gray-200);
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
        }
        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.1);
        }
        .module-card.locked {
            opacity: 0.6;
            pointer-events: none;
        }

        .module-header {
            padding: 20px 24px;
            background: linear-gradient(135deg, var(--fau-blue) 0%, var(--fau-blue-light) 100%);
            color: white;
            display: flex;
            align-items: flex-start;
            gap: 14px;
        }
        .module-header.mod-1 { background: linear-gradient(135deg, #065F46, #059669); }
        .module-header.mod-2 { background: linear-gradient(135deg, #1E3A5F, #3B82F6); }
        .module-header.mod-3 { background: linear-gradient(135deg, #7C2D12, #C2410C); }
        .module-header.mod-4 { background: linear-gradient(135deg, #581C87, #9333EA); }
        .module-header.mod-5 { background: linear-gradient(135deg, #713F12, #CA8A04); }
        .module-header.exam { background: linear-gradient(135deg, #374151, #6B7280); }

        .module-icon {
            width: 44px;
            height: 44px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .module-info { flex: 1; }
        .module-number {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.8;
            margin-bottom: 4px;
        }
        .module-title {
            font-family: var(--font-serif);
            font-size: 1.15rem;
            font-weight: 700;
            line-height: 1.3;
        }

        .module-body {
            padding: 20px 24px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .module-description {
            color: var(--gray-600);
            font-size: 0.9rem;
            line-height: 1.6;
            flex: 1;
        }
        .module-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 14px;
            border-top: 1px solid var(--gray-100);
        }
        .module-meta {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--gray-400);
            font-size: 0.8rem;
        }
        .module-action {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--fau-blue);
            font-weight: 600;
            font-size: 0.875rem;
        }
        .module-action.locked { color: var(--gray-400); }

        /* ============================================
           INFO CARDS
        ============================================ */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            grid-gap: 20px;
            gap: 20px;
            margin-top: 32px;
        }
        .info-card {
            background: white;
            border-radius: 10px;
            padding: 24px;
            border: 1px solid var(--gray-200);
        }
        .info-card h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--gray-900);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .info-card p, .info-card li {
            color: var(--gray-600);
            font-size: 0.9rem;
        }
        .info-card ul {
            list-style: none;
            padding: 0;
        }
        .info-card li {
            padding: 4px 0;
            padding-left: 20px;
            position: relative;
        }
        .info-card li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 12px;
            width: 6px;
            height: 6px;
            background: var(--fau-blue);
            border-radius: 50%;
        }

        /* ============================================
           FLOATING BUTTONS
        ============================================ */
        .floating-buttons {
            position: fixed;
            bottom: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            z-index: 900;
        }
        .floating-buttons > * { margin-top: 12px; }
        .fab {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        .fab-feedback {
            background: var(--nat-green);
            color: white;
        }
        .fab-contact {
            background: var(--fau-blue);
            color: white;
        }
        .fab-tooltip {
            position: absolute;
            right: 68px;
            background: var(--gray-800);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }
        .fab:hover .fab-tooltip { opacity: 1; }

        /* ============================================
           MODAL
        ============================================ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 9000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-overlay.visible { display: flex; }

        .modal {
            background: white;
            border-radius: 16px;
            padding: 32px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        .modal-header h3 {
            font-family: var(--font-serif);
            font-size: 1.25rem;
            color: var(--gray-900);
        }
        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--gray-100);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-500);
            transition: all 0.2s;
        }
        .modal-close:hover {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-gap: 16px;
            gap: 16px;
        }

        .submit-btn {
            width: 100%;
            padding: 14px 24px;
            background: var(--fau-blue);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            font-family: var(--font-sans);
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 8px;
        }
        .submit-btn:hover { background: var(--fau-blue-dark); }

        /* ============================================
           FOOTER
        ============================================ */
        .site-footer {
            background: var(--gray-900);
            color: white;
            padding: 48px 24px;
            margin-top: 64px;
        }
        .footer-inner {
            max-width: var(--container-max);
            margin: 0 auto;
        }
        .footer-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            padding-bottom: 32px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .footer-top > * { margin: 16px; }
        .footer-brand {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .footer-logos {
            display: flex;
            align-items: center;
        }
        .footer-logos > * { margin-right: 16px; }
        .footer-logos img {
            height: 36px;
            filter: brightness(0) invert(1);
        }
        .footer-info h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .footer-info p {
            font-size: 0.85rem;
            opacity: 0.7;
        }
        .footer-links {
            display: flex;
        }
        .footer-links > * { margin-left: 24px; }
        .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 0.875rem;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .footer-links a:hover { opacity: 1; }
        .footer-copyright {
            text-align: center;
            padding-top: 24px;
            font-size: 0.8rem;
            opacity: 0.5;
        }

        /* ============================================
           RESPONSIVE
        ============================================ */
        @media (max-width: 768px) {
            .header-top-inner { flex-direction: column; }
            .header-top-inner > * { margin: 4px 0; }
            .hero h1 { font-size: 1.75rem; }
            .modules-grid { grid-template-columns: 1fr; }
            .user-info span { display: none; }
            .brand-logos img { height: 32px; }
            .login-card { padding: 24px; }
            .form-row { grid-template-columns: 1fr; }
            .floating-buttons { bottom: 16px; right: 16px; }
            .fab { width: 48px; height: 48px; }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body class="lang-en">

    <!-- ============================================
         LOGIN OVERLAY
    ============================================ -->
    <div class="login-overlay" id="loginOverlay">
        <div class="lang-switch-login">
            <button class="lang-btn-small active" data-lang="en">EN</button>
            <button class="lang-btn-small" data-lang="de">DE</button>
        </div>
        
        <div class="login-card">
            <div class="login-logos">
                <img src="https://www.gzn.nat.fau.de/files/2024/01/cropped-Geozentrum-logo_nobackground.png" alt="GeoZentrum Nordbayern">
                <img src="images/FAU_NatFak_H_black.png" alt="FAU Naturwissenschaftliche Fakultät" style="height: 45px;">
            </div>
            
            <div class="login-title">
                <h1>Sedimentary Geochemistry</h1>
            </div>
            <p class="login-subtitle">
                <span class="en">Interactive Learning Platform · GeoZentrum Nordbayern</span>
                <span class="de">Interaktive Lernplattform · GeoZentrum Nordbayern</span>
            </p>
            
            <!-- Login Tabs -->
            <div class="login-tabs">
                <button class="login-tab active" data-panel="student">
                    <span class="en">Student</span>
                    <span class="de">Student</span>
                </button>
                <button class="login-tab" data-panel="guest">
                    <span class="en">Guest Access</span>
                    <span class="de">Gastzugang</span>
                </button>
            </div>
            
            <!-- Student Login Panel -->
            <div class="login-panel active" id="panel-student">
                <form id="loginForm">
                    <div class="login-error" id="loginError">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
                        <span class="en">Email not recognized. Please use your MS Teams email.</span>
                        <span class="de">E-Mail nicht erkannt. Bitte verwenden Sie Ihre MS Teams-E-Mail.</span>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">MS Teams Email</span>
                            <span class="de">MS Teams E-Mail</span>
                        </label>
                        <input class="form-input" type="email" id="email" placeholder="your.id@fauad.fau.de" required>
                        <p class="form-hint">
                            <span class="en">Use your Microsoft Teams credentials</span>
                            <span class="de">Verwenden Sie Ihre Microsoft Teams-Zugangsdaten</span>
                        </p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Full Name</span>
                            <span class="de">Vollständiger Name</span>
                        </label>
                        <input class="form-input" type="text" id="fullName" required>
                    </div>
                    
                    <button type="submit" class="login-btn">
                        <span class="en">Access Course</span>
                        <span class="de">Kurs öffnen</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </button>
                </form>
            </div>
            
            <!-- Guest Access Panel -->
            <div class="login-panel" id="panel-guest">
                <form id="guestForm">
                    <div class="login-error" id="guestError">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
                        <span class="en">Please fill in all required fields.</span>
                        <span class="de">Bitte füllen Sie alle Pflichtfelder aus.</span>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Email Address *</span>
                            <span class="de">E-Mail-Adresse *</span>
                        </label>
                        <input class="form-input" type="email" id="guestEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Full Name *</span>
                            <span class="de">Vollständiger Name *</span>
                        </label>
                        <input class="form-input" type="text" id="guestName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Affiliation / Institution *</span>
                            <span class="de">Zugehörigkeit / Institution *</span>
                        </label>
                        <input class="form-input" type="text" id="guestAffiliation" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Purpose of Access *</span>
                            <span class="de">Verwendungszweck *</span>
                        </label>
                        <select class="form-select" id="guestPurpose" required>
                            <option value="">-- Select --</option>
                            <option value="teaching">Teaching / Unterricht</option>
                            <option value="research">Research / Forschung</option>
                            <option value="self-study">Self-Study / Selbststudium</option>
                            <option value="other">Other / Sonstiges</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="login-btn">
                        <span class="en">Request Guest Access</span>
                        <span class="de">Gastzugang anfordern</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </button>
                    
                    <p class="form-hint" style="margin-top: 12px; text-align: center;">
                        <span class="en">Guest access is logged for quality assurance purposes.</span>
                        <span class="de">Der Gastzugang wird zu Qualitätssicherungszwecken protokolliert.</span>
                    </p>
                </form>
            </div>
            
            <div class="login-footer">
                <p>
                    <strong>GeoZentrum Nordbayern</strong><br>
                    Friedrich-Alexander-Universität Erlangen-Nürnberg<br>
                    <a href="mailto:luca.caracciolo@fau.de">PD Dr. Luca Caracciolo</a> · <a href="mailto:michael.joachimski@fau.de">Prof. Dr. Michael Joachimski</a>
                </p>
                <button class="reset-link" id="resetSession">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>
                    <span class="en">Having trouble? Reset session</span>
                    <span class="de">Probleme? Sitzung zurücksetzen</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================
         EXPIRED OVERLAY
    ============================================ -->
    <div class="expired-overlay" id="expiredOverlay">
        <div class="expired-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            <h2>
                <span class="en">Access Expired</span>
                <span class="de">Zugang abgelaufen</span>
            </h2>
            <p>
                <span class="en">Your access to this course has expired on:</span>
                <span class="de">Ihr Zugang zu diesem Kurs ist abgelaufen am:</span>
            </p>
            <p class="expired-date" id="expiredDate">--</p>
            <p>
                <span class="en">Please contact your instructor for an extension.</span>
                <span class="de">Bitte kontaktieren Sie Ihren Dozenten für eine Verlängerung.</span>
            </p>
        </div>
    </div>

    <!-- ============================================
         HEADER
    ============================================ -->
    <header class="site-header">
        <div class="header-top">
            <div class="header-top-inner">
                <div class="breadcrumb">
                    <a href="https://www.fau.de">FAU</a> › 
                    <a href="https://www.nat.fau.de">NatFak</a> › 
                    <a href="https://www.gzn.nat.fau.de">GeoZentrum</a> ›
                    <span class="en">Sedimentary Geochemistry</span>
                    <span class="de">Sedimentäre Geochemie</span>
                </div>
                <div class="header-controls">
                    <div class="lang-switch">
                        <button class="lang-btn active" data-lang="en">EN</button>
                        <button class="lang-btn" data-lang="de">DE</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-main">
            <a href="index.html" class="site-brand">
                <div class="brand-logos">
                    <img src="https://www.gzn.nat.fau.de/files/2024/01/cropped-Geozentrum-logo_nobackground.png" alt="GeoZentrum">
                    <div class="brand-divider"></div>
                    <img src="images/FAU_NatFak_H_black.png" alt="FAU NatFak" style="height: 36px;">
                </div>
                <div>
                    <div class="site-title">Sedimentary Geochemistry</div>
                    <div class="site-subtitle">GeoZentrum Nordbayern</div>
                </div>
            </a>
            <div class="header-right">
                <div class="user-info">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                    <span id="navUserName">Student</span>
                    <span class="user-badge" id="userBadge">Student</span>
                </div>
                <button class="header-btn" id="logoutBtn">
                    <span class="en">Logout</span>
                    <span class="de">Abmelden</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ============================================
         HERO
    ============================================ -->
    <section class="hero">
        <div class="hero-inner">
            <div class="hero-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                <span class="en">MSc Course · Isotope Geochemistry</span>
                <span class="de">MSc-Kurs · Isotopen-Geochemie</span>
            </div>
            <h1>
                <span class="en">Sedimentary Geochemistry</span>
                <span class="de">Sedimentäre Geochemie</span>
            </h1>
            <p class="hero-description">
                <span class="en">Master isotope geochemistry and paleoenvironmental reconstruction from sedimentary archives through interactive modules and self-assessment exercises.</span>
                <span class="de">Beherrschen Sie Isotopen-Geochemie und paläoumweltliche Rekonstruktion aus Sedimentarchiven durch interaktive Module und Selbsttests.</span>
            </p>
            <div class="welcome-msg">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
                <span class="en">Welcome, <strong id="welcomeName">Student</strong>!</span>
                <span class="de">Willkommen, <strong id="welcomeNameDe">Student</strong>!</span>
            </div>
        </div>
    </section>

    <!-- ============================================
         MAIN CONTENT
    ============================================ -->
    <main class="main-content">
        <div class="section-header">
            <h2>
                <span class="en">Course Modules</span>
                <span class="de">Kursmodule</span>
            </h2>
            <p>
                <span class="en">Progress through five comprehensive modules covering isotope geochemistry and paleoenvironmental analysis.</span>
                <span class="de">Arbeiten Sie sich durch fünf umfassende Module zur Isotopen-Geochemie und Paläoumwelt-Analyse.</span>
            </p>
        </div>

        <div class="modules-grid">
            <!-- Module 1 -->
            <a href="module1_introduction_isotopes.html" class="module-card">
                <div class="module-header mod-1">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4"/><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"/><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"/><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"/><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">
                            <span class="en">Module 1</span>
                            <span class="de">Modul 1</span>
                        </div>
                        <h3 class="module-title">
                            <span class="en">Introduction to Isotopes</span>
                            <span class="de">Einführung in die Isotope</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Learn δ notation, isotope fractionation principles, and reference standards. Foundation for all subsequent modules.</span>
                        <span class="de">Lernen Sie die δ-Notation, Isotopen-Fraktionierungsprinzipien und Referenzstandards.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            20-25 min
                        </div>
                        <span class="module-action">
                            <span class="en">Start</span>
                            <span class="de">Starten</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </span>
                    </div>
                </div>
            </a>

            <!-- Module 2 -->
            <a href="module2_carbon_oxygen_isotopes.html" class="module-card">
                <div class="module-header mod-2">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22v-5"/><path d="M9 8V2"/><path d="M15 8V2"/><path d="M12 8a4 4 0 0 0-4 4c0 1.5.8 2.8 2 3.5"/><path d="M12 8a4 4 0 0 1 4 4c0 1.5-.8 2.8-2 3.5"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">
                            <span class="en">Module 2</span>
                            <span class="de">Modul 2</span>
                        </div>
                        <h3 class="module-title">
                            <span class="en">Carbon & Oxygen Isotopes</span>
                            <span class="de">Kohlenstoff- & Sauerstoff-Isotope</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Explore paleothermometry, ice volume effects, carbon cycle perturbations, and diagenetic overprinting.</span>
                        <span class="de">Erkunden Sie Paläothermometrie, Eisvolumeneffekte, Kohlenstoffzyklus-Störungen und diagenetische Überprägung.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            30-35 min
                        </div>
                        <span class="module-action">
                            <span class="en">Start</span>
                            <span class="de">Starten</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </span>
                    </div>
                </div>
            </a>

            <!-- Module 3 -->
            <a href="module3_clumped_isotopes.html" class="module-card">
                <div class="module-header mod-3">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m8 17 4 4 4-4"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">
                            <span class="en">Module 3</span>
                            <span class="de">Modul 3</span>
                        </div>
                        <h3 class="module-title">
                            <span class="en">Clumped Isotopes (Δ₄₇)</span>
                            <span class="de">Clumped Isotope (Δ₄₇)</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Temperature-independent paleothermometry using multiply-substituted isotopologues. Resolving the ice volume problem.</span>
                        <span class="de">Temperaturunabhängige Paläothermometrie mit mehrfach substituierten Isotopologen.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            25-30 min
                        </div>
                        <span class="module-action">
                            <span class="en">Start</span>
                            <span class="de">Starten</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </span>
                    </div>
                </div>
            </a>

            <!-- Module 4 -->
            <a href="module4_boron_isotopes.html" class="module-card">
                <div class="module-header mod-4">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">
                            <span class="en">Module 4</span>
                            <span class="de">Modul 4</span>
                        </div>
                        <h3 class="module-title">
                            <span class="en">Boron Isotopes (δ¹¹B)</span>
                            <span class="de">Bor-Isotope (δ¹¹B)</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Reconstruct paleo-pH and atmospheric pCO₂ from boron isotope systematics in marine carbonates.</span>
                        <span class="de">Rekonstruieren Sie Paläo-pH und atmosphärisches pCO₂ aus Bor-Isotopen-Systematik in marinen Karbonaten.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            25-30 min
                        </div>
                        <span class="module-action">
                            <span class="en">Start</span>
                            <span class="de">Starten</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </span>
                    </div>
                </div>
            </a>

            <!-- Module 5 -->
            <a href="module5_strontium_isotopes.html" class="module-card">
                <div class="module-header mod-5">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">
                            <span class="en">Module 5</span>
                            <span class="de">Modul 5</span>
                        </div>
                        <h3 class="module-title">
                            <span class="en">Strontium Isotopes (⁸⁷Sr/⁸⁶Sr)</span>
                            <span class="de">Strontium-Isotope (⁸⁷Sr/⁸⁶Sr)</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Weathering fluxes, continental erosion, and strontium isotope stratigraphy for dating and correlation.</span>
                        <span class="de">Verwitterungsflüsse, kontinentale Erosion und Strontium-Isotopen-Stratigraphie für Datierung und Korrelation.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            25-30 min
                        </div>
                        <span class="module-action">
                            <span class="en">Start</span>
                            <span class="de">Starten</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </span>
                    </div>
                </div>
            </a>

            <!-- Exam Simulation (Locked) -->
            <div class="module-card locked">
                <div class="module-header exam">
                    <div class="module-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                    </div>
                    <div class="module-info">
                        <div class="module-number">Assessment</div>
                        <h3 class="module-title">
                            <span class="en">Exam Simulation</span>
                            <span class="de">Prüfungssimulation</span>
                        </h3>
                    </div>
                </div>
                <div class="module-body">
                    <p class="module-description">
                        <span class="en">Comprehensive assessment covering all module content. Access provided by instructor during exam period.</span>
                        <span class="de">Umfassende Prüfung über alle Modulinhalte. Zugang wird vom Dozenten während der Prüfungszeit freigeschaltet.</span>
                    </p>
                    <div class="module-footer">
                        <div class="module-meta">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            <span class="en">Locked</span>
                            <span class="de">Gesperrt</span>
                        </div>
                        <span class="module-action locked">
                            <span class="en">Locked</span>
                            <span class="de">Gesperrt</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Cards -->
        <div class="info-grid">
            <div class="info-card">
                <h4>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#04316A" stroke-width="2"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                    <span class="en">Learning Objectives</span>
                    <span class="de">Lernziele</span>
                </h4>
                <ul>
                    <li><span class="en">Calculate and interpret δ values</span><span class="de">δ-Werte berechnen und interpretieren</span></li>
                    <li><span class="en">Apply paleothermometry equations</span><span class="de">Paläothermometrie-Gleichungen anwenden</span></li>
                    <li><span class="en">Distinguish primary signals from diagenesis</span><span class="de">Primärsignale von Diagenese unterscheiden</span></li>
                    <li><span class="en">Design multi-proxy approaches</span><span class="de">Multi-Proxy-Ansätze entwickeln</span></li>
                </ul>
            </div>
            <div class="info-card">
                <h4>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#04316A" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    <span class="en">Instructors</span>
                    <span class="de">Dozenten</span>
                </h4>
                <ul>
                    <li>PD Dr. Luca Caracciolo</li>
                    <li>Prof. Dr. Michael Joachimski</li>
                </ul>
                <p style="margin-top: 12px;">
                    <span class="en">GeoZentrum Nordbayern<br>FAU Erlangen-Nürnberg</span>
                    <span class="de">GeoZentrum Nordbayern<br>FAU Erlangen-Nürnberg</span>
                </p>
            </div>
            <div class="info-card">
                <h4>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#04316A" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
                    <span class="en">Key Topics</span>
                    <span class="de">Schlüsselthemen</span>
                </h4>
                <ul>
                    <li>δ¹⁸O / δ¹³C paleothermometry</li>
                    <li>Clumped isotopes (Δ₄₇)</li>
                    <li>Boron pH proxy (δ¹¹B)</li>
                    <li>Sr isotope stratigraphy</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- ============================================
         FLOATING BUTTONS
    ============================================ -->
    <div class="floating-buttons">
        <button class="fab fab-feedback" id="feedbackBtn" title="Feedback">
            <span class="fab-tooltip">
                <span class="en">Send Feedback</span>
                <span class="de">Feedback senden</span>
            </span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
        </button>
        <button class="fab fab-contact" id="contactBtn" title="Contact">
            <span class="fab-tooltip">
                <span class="en">Contact Instructor</span>
                <span class="de">Dozent kontaktieren</span>
            </span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </button>
    </div>

    <!-- ============================================
         FEEDBACK MODAL
    ============================================ -->
    <div class="modal-overlay" id="feedbackModal">
        <div class="modal">
            <div class="modal-header">
                <h3>
                    <span class="en">Send Feedback</span>
                    <span class="de">Feedback senden</span>
                </h3>
                <button class="modal-close" id="closeFeedback">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
                </button>
            </div>
            <form id="feedbackForm">
                <div class="form-group">
                    <label class="form-label">
                        <span class="en">Feedback Type</span>
                        <span class="de">Feedback-Typ</span>
                    </label>
                    <select class="form-select" id="feedbackType" required>
                        <option value="suggestion">Suggestion / Vorschlag</option>
                        <option value="bug">Bug Report / Fehlermeldung</option>
                        <option value="content">Content Issue / Inhaltsproblem</option>
                        <option value="praise">Praise / Lob</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <span class="en">Your Message *</span>
                        <span class="de">Ihre Nachricht *</span>
                    </label>
                    <textarea class="form-textarea" id="feedbackMessage" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">
                    <span class="en">Send Feedback</span>
                    <span class="de">Feedback senden</span>
                </button>
            </form>
        </div>
    </div>

    <!-- ============================================
         CONTACT MODAL
    ============================================ -->
    <div class="modal-overlay" id="contactModal">
        <div class="modal">
            <div class="modal-header">
                <h3>
                    <span class="en">Contact Instructor</span>
                    <span class="de">Dozent kontaktieren</span>
                </h3>
                <button class="modal-close" id="closeContact">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
                </button>
            </div>
            <form id="contactForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Your Name *</span>
                            <span class="de">Ihr Name *</span>
                        </label>
                        <input class="form-input" type="text" id="contactName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <span class="en">Your Email *</span>
                            <span class="de">Ihre E-Mail *</span>
                        </label>
                        <input class="form-input" type="email" id="contactEmail" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <span class="en">Subject *</span>
                        <span class="de">Betreff *</span>
                    </label>
                    <input class="form-input" type="text" id="contactSubject" required>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <span class="en">Message *</span>
                        <span class="de">Nachricht *</span>
                    </label>
                    <textarea class="form-textarea" id="contactMessage" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn">
                    <span class="en">Send Message</span>
                    <span class="de">Nachricht senden</span>
                </button>
            </form>
        </div>
    </div>

    <!-- ============================================
         FOOTER
    ============================================ -->
    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-top">
                <div class="footer-brand">
                    <div class="footer-logos">
                        <img src="https://www.gzn.nat.fau.de/files/2024/01/cropped-Geozentrum-logo_nobackground.png" alt="GeoZentrum">
                        <img src="images/FAU_NatFak_H_black.png" alt="FAU NatFak">
                    </div>
                    <div class="footer-info">
                        <h4>GeoZentrum Nordbayern</h4>
                        <p>Friedrich-Alexander-Universität Erlangen-Nürnberg</p>
                    </div>
                </div>
                <div class="footer-links">
                    <a href="mailto:luca.caracciolo@fau.de">Contact</a>
                    <a href="https://www.gzn.nat.fau.de">GZN Website</a>
                    <a href="https://www.gzn.nat.fau.de/datenschutz">Privacy</a>
                    <a href="https://www.gzn.nat.fau.de/impressum">Imprint</a>
                </div>
            </div>
            <div class="footer-copyright">
                © 2025 GeoZentrum Nordbayern, FAU Erlangen-Nürnberg
            </div>
        </div>
    </footer>

    <!-- ============================================
         JAVASCRIPT
    ============================================ -->
    <script>
        // ========================================
        // CONFIGURATION
        // ========================================
        const STUDENT_EMAILS = [
            'lo20pupo@fauad.fau.de',
            'ji66ciip@fauad.fau.de',
            'du28zapa@fauad.fau.de',
            'qy58homy@fauad.fau.de',
            'ge21fybi@fauad.fau.de',
            'bi48dagu@fauad.fau.de',
            'ad07ifuk@fauad.fau.de',
            'up27isil@fauad.fau.de',
            'cy29woro@fauad.fau.de',
            'yp57ijiv@fauad.fau.de',
            'je93kiqo@fauad.fau.de',
            'ku07wazu@fauad.fau.de',
            'pa76zafa@fauad.fau.de',
            'ih69acyq@fauad.fau.de',
            'em74ofeq@fauad.fau.de',
            'oz56uwam@fauad.fau.de',
            'ne57maze@fauad.fau.de'
        ];

        const INSTRUCTOR_EMAILS = [
            'luca.caracciolo@fau.de',
            'michael.joachimski@fau.de'
        ];

        const EXPIRATION_DATE = new Date('2026-02-05T23:59:59');
        
        // Google Sheets logging URL for guest access
        const GUEST_LOG_URL = 'https://script.google.com/macros/s/AKfycbyHW064KrJjIx_wU9hdlIdUcZ8-YDMtZA64zwNqY4nEMVhH6HZXl63BHEZ-G6tw4zcu/exec';

        // ========================================
        // LANGUAGE SWITCHING
        // ========================================
        function setLanguage(lang) {
            document.body.classList.remove('lang-en', 'lang-de');
            document.body.classList.add('lang-' + lang);
            document.querySelectorAll('.lang-btn, .lang-btn-small').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            localStorage.setItem('sedgeo-lang', lang);
        }

        document.querySelectorAll('.lang-btn, .lang-btn-small').forEach(btn => {
            btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
        });

        const savedLang = localStorage.getItem('sedgeo-lang');
        if (savedLang) setLanguage(savedLang);

        // ========================================
        // LOGIN TABS
        // ========================================
        document.querySelectorAll('.login-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.login-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.login-panel').forEach(p => p.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('panel-' + this.dataset.panel).classList.add('active');
            });
        });

        // ========================================
        // AUTHENTICATION
        // ========================================
        const loginOverlay = document.getElementById('loginOverlay');
        const expiredOverlay = document.getElementById('expiredOverlay');
        const loginForm = document.getElementById('loginForm');
        const guestForm = document.getElementById('guestForm');
        const loginError = document.getElementById('loginError');
        const guestError = document.getElementById('guestError');
        const logoutBtn = document.getElementById('logoutBtn');

        if (window.location.search.includes('reset')) {
            localStorage.removeItem('sedgeo_session');
            window.location.href = window.location.pathname;
        }

        document.getElementById('resetSession').addEventListener('click', function(e) {
            e.preventDefault();
            localStorage.removeItem('sedgeo_session');
            alert('Session cleared!');
            location.reload();
        });

        function checkSession() {
            try {
                const session = localStorage.getItem('sedgeo_session');
                if (session) {
                    const userData = JSON.parse(session);
                    if (!userData.email || !userData.name) {
                        throw new Error('Invalid session');
                    }
                    if (userData.isInstructor) {
                        showContent(userData.name, 'Instructor');
                        return;
                    }
                    if (userData.isGuest) {
                        showContent(userData.name, 'Guest');
                        return;
                    }
                    if (new Date() > EXPIRATION_DATE) {
                        showExpired();
                        return;
                    }
                    showContent(userData.name, 'Student');
                }
            } catch (e) {
                console.error('Session error:', e);
                localStorage.removeItem('sedgeo_session');
            }
        }

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value.toLowerCase().trim();
            const name = document.getElementById('fullName').value.trim();

            if (INSTRUCTOR_EMAILS.includes(email)) {
                const session = { email, name, isInstructor: true, isGuest: false, loginTime: new Date().toISOString() };
                localStorage.setItem('sedgeo_session', JSON.stringify(session));
                showContent(name, 'Instructor');
                return;
            }

            if (STUDENT_EMAILS.includes(email)) {
                if (new Date() > EXPIRATION_DATE) {
                    showExpired();
                    return;
                }
                const session = { email, name, isInstructor: false, isGuest: false, loginTime: new Date().toISOString() };
                localStorage.setItem('sedgeo_session', JSON.stringify(session));
                showContent(name, 'Student');
                return;
            }

            loginError.classList.add('visible');
            setTimeout(() => loginError.classList.remove('visible'), 5000);
        });

        // Guest login with Google Sheets logging
        guestForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('guestEmail').value.toLowerCase().trim();
            const name = document.getElementById('guestName').value.trim();
            const affiliation = document.getElementById('guestAffiliation').value.trim();
            const purpose = document.getElementById('guestPurpose').value;

            if (!email || !name || !affiliation || !purpose) {
                guestError.classList.add('visible');
                setTimeout(() => guestError.classList.remove('visible'), 5000);
                return;
            }

            // Log guest access to Google Sheets via GET
            const params = new URLSearchParams({ name, email, affiliation, purpose });
            const beacon = new Image();
            beacon.src = `${GUEST_LOG_URL}?${params.toString()}`;

            const session = { 
                email, 
                name, 
                affiliation,
                purpose,
                isInstructor: false, 
                isGuest: true, 
                loginTime: new Date().toISOString() 
            };
            localStorage.setItem('sedgeo_session', JSON.stringify(session));
            showContent(name, 'Guest');
        });

        function showContent(name, role) {
            loginOverlay.classList.add('hidden');
            document.getElementById('navUserName').textContent = name;
            document.getElementById('welcomeName').textContent = name;
            document.getElementById('welcomeNameDe').textContent = name;
            
            const badge = document.getElementById('userBadge');
            badge.textContent = role;
            badge.classList.toggle('guest', role === 'Guest');
        }

        function showExpired() {
            loginOverlay.classList.add('hidden');
            expiredOverlay.classList.add('visible');
            document.getElementById('expiredDate').textContent = EXPIRATION_DATE.toLocaleDateString('en-US', {
                year: 'numeric', month: 'long', day: 'numeric'
            });
        }

        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('sedgeo_session');
            location.reload();
        });

        // ========================================
        // MODALS
        // ========================================
        const feedbackModal = document.getElementById('feedbackModal');
        const contactModal = document.getElementById('contactModal');

        document.getElementById('feedbackBtn').addEventListener('click', () => feedbackModal.classList.add('visible'));
        document.getElementById('contactBtn').addEventListener('click', () => contactModal.classList.add('visible'));
        document.getElementById('closeFeedback').addEventListener('click', () => feedbackModal.classList.remove('visible'));
        document.getElementById('closeContact').addEventListener('click', () => contactModal.classList.remove('visible'));

        [feedbackModal, contactModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) this.classList.remove('visible');
            });
        });

        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const type = document.getElementById('feedbackType').value;
            const message = document.getElementById('feedbackMessage').value;
            const subject = encodeURIComponent(`[Sedimentary Geochemistry Feedback] ${type}`);
            const body = encodeURIComponent(message);
            window.location.href = `mailto:luca.caracciolo@fau.de?subject=${subject}&body=${body}`;
            feedbackModal.classList.remove('visible');
        });

        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const subject = encodeURIComponent(document.getElementById('contactSubject').value);
            const message = document.getElementById('contactMessage').value;
            const body = encodeURIComponent(`From: ${name} (${email})\n\n${message}`);
            window.location.href = `mailto:luca.caracciolo@fau.de?subject=${subject}&body=${body}`;
            contactModal.classList.remove('visible');
        });

        // ========================================
        // INITIALIZE
        // ========================================
        checkSession();
    </script>
</body>
</html>
